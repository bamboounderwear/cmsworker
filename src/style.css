@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    html,
    body {
        margin: 0;
        min-height: 100vh;
        font-family: "Inter", serif;
        font-optical-sizing: auto;
        @apply bg-neutral-100 text-black;
    }

    html.dark,
    html.dark body {
        @apply bg-neutral-800 text-white;
    }

    #root {
        @apply bg-neutral-100 dark:bg-neutral-800 min-h-screen;
    }

    button,
    .button {
        @apply flex gap-2 items-center px-4 py-2 border border-neutral-300 dark:border-neutral-600 bg-neutral-100 dark:bg-neutral-800 hover:bg-neutral-200 dark:hover:bg-neutral-700 active:bg-neutral-300 dark:active:bg-neutral-600 transition text-sm font-medium rounded-md disabled:opacity-50 disabled:cursor-default select-none cursor-pointer text-black dark:text-white;
    }

    button.primary,
    .button.primary {
        @apply bg-neutral-800 dark:bg-neutral-200 hover:bg-neutral-700 dark:hover:bg-neutral-300 text-white dark:text-black;
    }

    .action-button {
        @apply px-4 text-xs font-normal h-max;
    }

    *:focus-visible {
        @apply outline outline-1 outline-blue-500;
    }

    select:focus-visible, select:focus, select:focus-within, select:hover {
        @apply !shadow-blue-500;
        box-shadow: 0 0 0 1px var(--tw-shadow-color) !important;
    }

    label {
        @apply select-none;
    }

    input,
    .input {
        @apply px-4 py-2 bg-white dark:bg-neutral-800 text-sm rounded-md border border-neutral-300 dark:border-neutral-600 disabled:bg-transparent disabled:text-neutral-500 accent-blue-500 hover:outline hover:outline-1 hover:outline-blue-500 text-black dark:text-white;
    }

    [contenteditable='true'] {
        @apply px-4 py-2 bg-white dark:bg-neutral-800 text-sm rounded-b-md border border-t-0 border-neutral-300 dark:border-neutral-600 prose prose-neutral dark:prose-invert max-w-none;
        :first-child {
            @apply mt-0;
        }
        :last-child {
            @apply mb-0;
        }
        p {
            @apply dark:text-white;
        }
    }

    .rich-toolbar {
        @apply !rounded-t-md !rounded-b-none !bg-neutral-100 dark:!bg-neutral-800 border border-neutral-300 dark:border-neutral-600;
    }

    .rich-toolbar button[role="combobox"] {
        @apply bg-neutral-100 dark:bg-neutral-800 hover:bg-neutral-200 dark:hover:bg-neutral-700 h-7;
    }

    .rich-toolbar button[role="combobox"] span:first-child {
        @apply !text-black dark:!text-white text-xs;
    }

    .rich-toolbar button:not([role="combobox"]) {
        @apply size-7 cursor-pointer;
    }

    .rich-toolbar button span {
        @apply flex justify-center;
    }

    .rich-toolbar button span svg {
        @apply size-5 dark:text-white;
    }

    select {
        @apply px-4 py-2 text-sm rounded-md outline outline-1 outline-neutral-300 dark:outline-neutral-600 focus-within:shadow-sm border-r-[1rem] border-transparent bg-white dark:bg-neutral-800 text-black dark:text-white cursor-pointer;
    }

    .grid-header {
        @apply grid grid-cols-[auto] rounded-t-md bg-neutral-100 dark:bg-neutral-800 select-none border border-neutral-300 dark:border-neutral-600;
    }

    .grid-header span {
        @apply px-4 py-2 text-xs font-medium;
    }

    .grid-row {
        @apply grid grid-cols-[auto,max-content] bg-white dark:bg-neutral-800 hover:bg-neutral-200 dark:hover:bg-neutral-700 transition border border-t-0 first:border-t border-x-neutral-300 dark:border-x-neutral-600 border-y-neutral-200 dark:border-y-neutral-700 first:border-t-neutral-300 dark:first:border-t-neutral-600 last:border-b-neutral-300 dark:last:border-b-neutral-600 first:rounded-t-md last:rounded-b-md items-center cursor-pointer;
    }

    table {
        @apply cursor-default border-separate border-spacing-0 rounded-md border border-neutral-300 dark:border-neutral-600 min-w-full;

        colgroup > col {
            @apply last:w-full;
        }

        thead > tr {
            th {
                @apply sticky top-0 z-10;
            }

            th:first-child {
                @apply left-0 z-20;
            }
        }

        th {
            @apply  text-nowrap bg-neutral-100 dark:bg-neutral-700 first:rounded-tl-md last:rounded-tr-md border-neutral-200 dark:border-neutral-600 border-b text-left font-normal px-4 py-2 text-xs w-auto;
        }

        tbody > tr {
            /* @apply cursor-pointer; */

            td {
                @apply text-nowrap bg-white dark:bg-neutral-800 transition-colors border-r last:border-r-0 border-neutral-300 dark:border-neutral-700 border-b-neutral-300 dark:border-b-neutral-700 border-b text-left px-4 py-2 text-sm w-auto;
            }

            td:first-child {
                @apply sticky left-0 z-10;
            }
        }

        tbody > tr:hover > td:first-child {
            @apply bg-neutral-200 dark:bg-neutral-700;
        }
        
        tbody > tr:last-child {
            td {
                @apply border-b-0 first:rounded-bl-md last:rounded-br-md;
            }

            td:first-child > * {
                @apply rounded-bl-md;
            }

            td:last-child * {
                @apply rounded-br-md;
            }
        }
    }
}
